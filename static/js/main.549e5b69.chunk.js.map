{"version":3,"sources":["api/Boundry.ts","api/Ray.ts","api/Particle.ts","api/Sketch.ts","components/Canvas/Canvas.tsx","components/App/App.tsx","serviceWorker.ts","index.tsx"],"names":["Boundry","p5","x1","y1","x2","y2","_p5","a","b","this","createVector","stroke","line","x","y","Ray","position","angle","_position","_direction","P5","Vector","fromAngle","boundry","x3","y3","x4","y4","den","t","intersect","push","translate","pop","Particle","_rays","width","height","radians","set","mouseX","mouseY","boundrys","ray","closest","record","Infinity","intersection","intersects","distance","dist","Math","min","fill","ellipse","show","particle","sketch","setup","createCanvas","index","random","draw","background","track","look","Sketch","node","_node","Canvas","document","getElementById","id","React","App","className","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.549e5b69.chunk.js","sourcesContent":["import P5 from 'p5';\r\n\r\nexport class Boundry {\r\n  private _p5: P5;\r\n  public a: P5.Vector;\r\n  public b: P5.Vector;\r\n\r\n  constructor (p5: P5, x1: number, y1: number, x2: number, y2: number) {\r\n    this._p5 = p5;\r\n\r\n    this.a = this._p5.createVector(x1, y1);\r\n    this.b = this._p5.createVector(x2, y2);\r\n  }\r\n\r\n  show (): void {\r\n    this._p5.stroke(255);\r\n    this._p5.line(this.a.x, this.a.y, this.b.x, this.b.y);\r\n  }\r\n}\r\n","import P5 from 'p5';\r\nimport { Boundry } from './Boundry';\r\n\r\nexport class Ray {\r\n  private _p5: P5;\r\n  private _position: P5.Vector;\r\n  private _direction: P5.Vector;\r\n\r\n  constructor (p5: P5, position: P5.Vector, angle: number) {\r\n    this._p5 = p5;\r\n\r\n    this._position = position;\r\n    this._direction = P5.Vector.fromAngle(angle);\r\n  }\r\n\r\n  public intersects (boundry: Boundry): P5.Vector {\r\n    const x1 = boundry.a.x;\r\n    const y1 = boundry.a.y;\r\n    const x2 = boundry.b.x;\r\n    const y2 = boundry.b.y;\r\n\r\n    const x3 = this._position.x;\r\n    const y3 = this._position.y;\r\n    const x4 = this._position.x + this._direction.x;\r\n    const y4 = this._position.y + this._direction.y;\r\n\r\n    const den = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\r\n\r\n    if (!den) {\r\n      return;\r\n    }\r\n\r\n    const t = ((x1 - x3) * (y3 - y4) - (y1 - y3) * (x3 - x4)) / den;\r\n    const u = - ((x1 - x2) * (y1 - y3) - (y1 - y2) * (x1 - x3)) / den;\r\n\r\n    if (t > 0 && t < 1 && u > 0) {\r\n      const intersect = this._p5.createVector();\r\n      intersect.x = x1 + t * (x2 - x1);\r\n      intersect.y = y1 + t * (y2 - y1);\r\n      return intersect;\r\n    }\r\n    return;\r\n  }\r\n\r\n  public show (): void {\r\n    this._p5.stroke(255);\r\n    this._p5.push();\r\n    this._p5.translate(this._position.x, this._position.y);\r\n    this._p5.line(0, 0, this._direction.x * 10, this._direction.y * 10);\r\n    this._p5.pop();\r\n  }\r\n}\r\n","import P5 from 'p5';\r\nimport { Boundry } from './Boundry';\r\nimport { Ray } from './Ray';\r\n\r\nexport class Particle {\r\n  private _p5: P5;\r\n  private _position: P5.Vector;\r\n\r\n  private _rays: Ray[];\r\n\r\n  constructor (p5: P5) {\r\n    this._p5 = p5;\r\n    this._position = this._p5.createVector(this._p5.width / 2, this._p5.height / 2);\r\n\r\n    this._rays = [];\r\n\r\n    for (let a = 0; a < 360; a += 10) {\r\n      this._rays.push(new Ray(this._p5, this._position, this._p5.radians(a)));\r\n    }\r\n  }\r\n\r\n  public track (): void {\r\n    this._position.set(this._p5.mouseX, this._p5.mouseY);\r\n  }\r\n\r\n  public look (boundrys: Boundry[]): void {\r\n    for (const ray of this._rays) {\r\n      let closest = null;\r\n      let record = Infinity;\r\n      for (const boundry of boundrys) {\r\n        const intersection = ray.intersects(boundry);\r\n        if (intersection) {\r\n          const distance = P5.Vector.dist(this._position, intersection);\r\n          if (distance < record) {\r\n            record = distance;\r\n            closest = intersection;\r\n          }\r\n          record = Math.min(distance, record);\r\n        }\r\n      }\r\n      if (closest) {\r\n        this._p5.line(this._position.x, this._position.y, closest.x, closest.y);\r\n      }\r\n    }\r\n  }\r\n\r\n  public show (): void {\r\n    this._p5.fill(255);\r\n    this._p5.ellipse(this._position.x, this._position.y, 4);\r\n    for (const ray of this._rays) {\r\n      ray.show();\r\n    }\r\n  }\r\n}\r\n","import P5 from 'p5';\r\nimport { Boundry } from './Boundry';\r\nimport { Particle } from './Particle';\r\n\r\nconst boundrys: Boundry[] = [];\r\n\r\n// let boundry: Boundry = null;\r\nlet particle: Particle = null;\r\n\r\nconst sketch = (p5: P5) => {\r\n\r\n  p5.setup = () => {\r\n    p5.createCanvas(1000, 750);\r\n    for (let index = 0; index < 5; index++) {\r\n      const x1 = p5.random(p5.width);\r\n      const x2 = p5.random(p5.width);\r\n      const y1 = p5.random(p5.height);\r\n      const y2 = p5.random(p5.height);\r\n      boundrys[index] = new Boundry(p5, x1, y1, x2, y2);\r\n    }\r\n    particle = new Particle(p5);\r\n  };\r\n\r\n  p5.draw = () => {\r\n    p5.background(0);\r\n\r\n    for (const boundry of boundrys) {\r\n      boundry.show();\r\n    }\r\n\r\n\r\n    particle.track();\r\n\r\n    particle.show();\r\n    particle.look(boundrys);\r\n  };\r\n};\r\n\r\nexport class Sketch {\r\n\r\n  private _node: HTMLElement;\r\n\r\n  constructor (node: HTMLElement) {\r\n    this._node = node;\r\n  }\r\n\r\n  public show (): P5 {\r\n    return new P5(sketch, this._node);\r\n  }\r\n}\r\n","import * as React from 'react';\r\nimport { Sketch } from '../../api/Sketch';\r\nimport './Canvas.css';\r\n\r\nexport class Canvas extends React.Component<any, any> {\r\n  componentDidMount (): void {\r\n    const node = document.getElementById('canvas-container');\r\n    const sketch = new Sketch(node);\r\n    sketch.show();\r\n  }\r\n\r\n  render (): React.ReactNode {\r\n    return (\r\n      <div id='canvas-container'></div>\r\n    );\r\n  }\r\n}\r\n","import * as React from 'react';\r\nimport { Canvas } from '../Canvas/Canvas';\r\nimport './App.css';\r\n\r\nexport class App extends React.Component {\r\n  render (): React.ReactNode {\r\n    return (\r\n      <div className='App'>\r\n        <Canvas />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.0/8 are considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register (config?: Config): void {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          // tslint:disable-next-line:no-console\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW (swUrl: string, config?: Config): void {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              // tslint:disable-next-line:no-console\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              // tslint:disable-next-line:no-console\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      // tslint:disable-next-line:no-console\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker (swUrl: string, config?: Config): void {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      // tslint:disable-next-line:no-console\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister (): void {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        // tslint:disable-next-line:no-console\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { App } from './components/App/App';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}